{"version":3,"file":"static/js/287.396d9a67.chunk.js","mappings":"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","sources":["Pages/CreateTrip/CreateTrip.styled.jsx","Pages/CreateTrip/CreateTrip.jsx","firebase.js"],"sourcesContent":["import styled from \"styled-components\";\nimport { List, Button, Form } from 'bootstrap-4-react';\n\nexport const ListItem = styled(List.Item)`\n  margin-bottom: 8px;\n`;\n\nexport const ItemLabel = styled.span`\n  font-weight: bold;\n`;\n\nexport const Label = styled.label`\n  font-weight: bold;\n`;\n\nexport const ListDivider = styled.hr`\n  border: none;\n  border-top: 1px solid #ccc;\n  margin-top: 16px;\n  margin-bottom: 16px;\n`;\n\nexport const Btn = styled(Button)`\n    margin-right: 10px;\n`;\n\nexport const FormBox = styled(Form)`\n    margin-bottom: 20px;\n`;","import { db } from \"../../firebase\";\nimport {\n  collection,\n  addDoc,\n  getDocs,\n  deleteDoc,\n  doc,\n  updateDoc,\n} from \"firebase/firestore\";\nimport { Form, Button, List } from \"bootstrap-4-react\";\nimport { useState, useEffect, useCallback } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport { ListItem, ItemLabel, ListDivider, Btn, FormBox, Label } from \"./CreateTrip.styled\";\n\nconst CreateTrip = () => {\n  const [dataArr, setDataArr] = useState([]);\n  const [data, setData] = useState();\n  const database = collection(db, \"trips\");\n\n  const createTrip = (evt) => {\n    evt.preventDefault();\n    addDoc(database, data)\n      .then(() => {\n        toast.success(\"Trip created\");\n        getData(setDataArr);\n      })\n      .catch((err) => {\n        toast.error(err.message);\n      });\n  };\n\n  const deleteData = (id) => {\n    let deletedData = doc(db, \"trips\", id);\n    deleteDoc(deletedData)\n      .then(() => {\n        toast.success(\"Trip deleted\");\n        getData(setDataArr);\n      })\n      .catch((err) => {\n        toast.error(err.message);\n      });\n  };\n\n  const inputChange = (evt) => {\n    const inputs = { [evt.target.name]: evt.target.value };\n    setData({ ...data, ...inputs });\n  };\n\n  const getData = useCallback(async () => {\n    const data = await getDocs(database);\n    setDataArr(\n      data.docs.map((item) => {\n        return { ...item.data(), id: item.id };\n      })\n    );\n  }, [database]);\n\n  const updateData = (id) => {\n    let updatedData = doc(db, \"trips\", id);\n    updateDoc(updatedData, {\n      carNumber: data.carNumber,\n      from: data.from,\n      to: data.to,\n      passengers: data.passengers,\n    })\n      .then(() => {\n        toast.success(\"Trip updated\");\n        getData(setDataArr);\n      })\n      .catch((err) => {\n        toast.error(err.message);\n      });\n  };\n\n  useEffect(() => {\n    getData();\n  }, [getData]);\n\n  return (\n    <div>\n      <FormBox>\n        <Form.Group>\n          <Label htmlFor=\"email\">Car Namber</Label>\n          <Form.Input\n            onChange={inputChange}\n            name=\"carNumber\"\n            type=\"text\"\n            id=\"email\"\n            placeholder=\"Enter car number\"\n          />\n        </Form.Group>\n        <Form.Group>\n          <Label htmlFor=\"from\">From</Label>\n          <Form.Input\n            onChange={inputChange}\n            name=\"from\"\n            type=\"text\"\n            id=\"from\"\n            placeholder=\"Enter first point\"\n          />\n        </Form.Group>\n        <Form.Group>\n          <Label htmlFor=\"to\">To</Label>\n          <Form.Input\n            onChange={inputChange}\n            name=\"to\"\n            type=\"text\"\n            id=\"to\"\n            placeholder=\"Enter second point\"\n          />\n        </Form.Group>\n        <Form.Group>\n          <Label htmlFor=\"from\">Number of passengers</Label>\n          <Form.Input\n            onChange={inputChange}\n            name=\"passengers\"\n            type=\"number\"\n            id=\"from\"\n            placeholder=\"Enter number of passengers\"\n          />\n        </Form.Group>\n\n        <Button onClick={createTrip} info type=\"submit\">\n          Create trip\n        </Button>\n      </FormBox>\n      {dataArr &&\n        dataArr.map((item) => {\n          return (\n            <List key={item.id}>\n              {item.carNumber && (\n                <ListItem>\n                  <ItemLabel>Car Number:</ItemLabel> {item.carNumber}\n                </ListItem>\n              )}\n              {item.name && (\n                <ListItem>\n                  <ItemLabel>Name:</ItemLabel> {item.name}\n                </ListItem>\n              )}\n              {item.from && (\n                <ListItem>\n                  <ItemLabel>From:</ItemLabel> {item.from}\n                </ListItem>\n              )}\n              {item.to && (\n                <ListItem>\n                  <ItemLabel>To:</ItemLabel> {item.to}\n                </ListItem>\n              )}\n              {item.passengers && (\n                <ListItem>\n                  <ItemLabel>Passengers:</ItemLabel> {item.passengers}\n                </ListItem>\n              )}\n              <Btn onClick={() => updateData(item.id)} info type=\"submit\">\n                Update trip\n              </Btn>\n              <Button onClick={() => deleteData(item.id)} info type=\"submit\">\n                Delete trip\n              </Button>\n              <ListDivider />\n            </List>\n          );\n        })}\n    </div>\n  );\n};\n\nexport default CreateTrip;\n","import { initializeApp } from 'firebase/app';\nimport { GithubAuthProvider, GoogleAuthProvider, getAuth, FacebookAuthProvider } from 'firebase/auth';\nimport {getFirestore} from 'firebase/firestore';\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyD9vfvfkZR7Jm1x7wNDIhh6PcfI19jMWJg\",\n    authDomain: \"crm-project-4aaef.firebaseapp.com\",\n    projectId: \"crm-project-4aaef\",\n    storageBucket: \"crm-project-4aaef.appspot.com\",\n    messagingSenderId: \"161287361864\",\n    appId: \"1:161287361864:web:19d90ee4a5cc4a927ecf7d\"\n  };\n  \nexport const app = initializeApp(firebaseConfig);\nexport const auth = getAuth(app);\nexport const db = getFirestore(app);\nexport const googleAuthProvider = new GoogleAuthProvider();\nexport const githubAuthProvider = new GithubAuthProvider();\nexport const facebookAuthProvider = new FacebookAuthProvider();\n\n"],"names":["ListItem","styled","List","ItemLabel","Label","ListDivider","Btn","Button","FormBox","Form","useState","dataArr","setDataArr","data","setData","database","collection","db","inputChange","evt","inputs","target","name","value","getData","useCallback","getDocs","docs","map","item","id","useEffect","htmlFor","onChange","type","placeholder","onClick","preventDefault","addDoc","then","toast","catch","err","message","info","carNumber","from","to","passengers","updatedData","doc","updateDoc","updateData","deletedData","deleteDoc","deleteData","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","getAuth","getFirestore","googleAuthProvider","GoogleAuthProvider","githubAuthProvider","GithubAuthProvider","facebookAuthProvider","FacebookAuthProvider"],"sourceRoot":""}