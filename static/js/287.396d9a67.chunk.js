"use strict";(self.webpackChunkmy_crm_app=self.webpackChunkmy_crm_app||[]).push([[287],{2287:function(e,n,r){r.r(n),r.d(n,{default:function(){return P}});var t,o,s,c,a,i,m=r(5861),u=r(1413),p=r(4942),d=r(9439),f=r(7757),h=r.n(f),l=r(5063),x=r(7799),j=r(4539),b=r(2791),g=r(5218),Z=r(168),F=r(6444),v=(0,F.ZP)(j.List.Item)(t||(t=(0,Z.Z)(["\n  margin-bottom: 8px;\n"]))),C=F.ZP.span(o||(o=(0,Z.Z)(["\n  font-weight: bold;\n"]))),I=F.ZP.label(s||(s=(0,Z.Z)(["\n  font-weight: bold;\n"]))),k=F.ZP.hr(c||(c=(0,Z.Z)(["\n  border: none;\n  border-top: 1px solid #ccc;\n  margin-top: 16px;\n  margin-bottom: 16px;\n"]))),w=(0,F.ZP)(j.Button)(a||(a=(0,Z.Z)(["\n    margin-right: 10px;\n"]))),y=(0,F.ZP)(j.Form)(i||(i=(0,Z.Z)(["\n    margin-bottom: 20px;\n"]))),N=r(184),P=function(){var e=(0,b.useState)([]),n=(0,d.Z)(e,2),r=n[0],t=n[1],o=(0,b.useState)(),s=(0,d.Z)(o,2),c=s[0],a=s[1],i=(0,x.hJ)(l.db,"trips"),f=function(e){var n=(0,p.Z)({},e.target.name,e.target.value);a((0,u.Z)((0,u.Z)({},c),n))},Z=(0,b.useCallback)((0,m.Z)(h().mark((function e(){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.PL)(i);case 2:n=e.sent,t(n.docs.map((function(e){return(0,u.Z)((0,u.Z)({},e.data()),{},{id:e.id})})));case 4:case"end":return e.stop()}}),e)}))),[i]);return(0,b.useEffect)((function(){Z()}),[Z]),(0,N.jsxs)("div",{children:[(0,N.jsxs)(y,{children:[(0,N.jsxs)(j.Form.Group,{children:[(0,N.jsx)(I,{htmlFor:"email",children:"Car Namber"}),(0,N.jsx)(j.Form.Input,{onChange:f,name:"carNumber",type:"text",id:"email",placeholder:"Enter car number"})]}),(0,N.jsxs)(j.Form.Group,{children:[(0,N.jsx)(I,{htmlFor:"from",children:"From"}),(0,N.jsx)(j.Form.Input,{onChange:f,name:"from",type:"text",id:"from",placeholder:"Enter first point"})]}),(0,N.jsxs)(j.Form.Group,{children:[(0,N.jsx)(I,{htmlFor:"to",children:"To"}),(0,N.jsx)(j.Form.Input,{onChange:f,name:"to",type:"text",id:"to",placeholder:"Enter second point"})]}),(0,N.jsxs)(j.Form.Group,{children:[(0,N.jsx)(I,{htmlFor:"from",children:"Number of passengers"}),(0,N.jsx)(j.Form.Input,{onChange:f,name:"passengers",type:"number",id:"from",placeholder:"Enter number of passengers"})]}),(0,N.jsx)(j.Button,{onClick:function(e){e.preventDefault(),(0,x.ET)(i,c).then((function(){g.Am.success("Trip created"),Z(t)})).catch((function(e){g.Am.error(e.message)}))},info:!0,type:"submit",children:"Create trip"})]}),r&&r.map((function(e){return(0,N.jsxs)(j.List,{children:[e.carNumber&&(0,N.jsxs)(v,{children:[(0,N.jsx)(C,{children:"Car Number:"})," ",e.carNumber]}),e.name&&(0,N.jsxs)(v,{children:[(0,N.jsx)(C,{children:"Name:"})," ",e.name]}),e.from&&(0,N.jsxs)(v,{children:[(0,N.jsx)(C,{children:"From:"})," ",e.from]}),e.to&&(0,N.jsxs)(v,{children:[(0,N.jsx)(C,{children:"To:"})," ",e.to]}),e.passengers&&(0,N.jsxs)(v,{children:[(0,N.jsx)(C,{children:"Passengers:"})," ",e.passengers]}),(0,N.jsx)(w,{onClick:function(){return function(e){var n=(0,x.JU)(l.db,"trips",e);(0,x.r7)(n,{carNumber:c.carNumber,from:c.from,to:c.to,passengers:c.passengers}).then((function(){g.Am.success("Trip updated"),Z(t)})).catch((function(e){g.Am.error(e.message)}))}(e.id)},info:!0,type:"submit",children:"Update trip"}),(0,N.jsx)(j.Button,{onClick:function(){return function(e){var n=(0,x.JU)(l.db,"trips",e);(0,x.oe)(n).then((function(){g.Am.success("Trip deleted"),Z(t)})).catch((function(e){g.Am.error(e.message)}))}(e.id)},info:!0,type:"submit",children:"Delete trip"}),(0,N.jsx)(k,{})]},e.id)}))]})}},5063:function(e,n,r){r.d(n,{I8:function(){return a},M3:function(){return p},Vr:function(){return u},db:function(){return i},qV:function(){return m}});var t=r(4702),o=r(5689),s=r(7799),c=(0,t.ZF)({apiKey:"AIzaSyD9vfvfkZR7Jm1x7wNDIhh6PcfI19jMWJg",authDomain:"crm-project-4aaef.firebaseapp.com",projectId:"crm-project-4aaef",storageBucket:"crm-project-4aaef.appspot.com",messagingSenderId:"161287361864",appId:"1:161287361864:web:19d90ee4a5cc4a927ecf7d"}),a=(0,o.v0)(c),i=(0,s.ad)(c),m=new o.hJ,u=new o.GH,p=new o._O}}]);
//# sourceMappingURL=287.396d9a67.chunk.js.map